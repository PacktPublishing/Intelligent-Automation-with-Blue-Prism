<?xml version="1.0" encoding="utf-8"?>
<bpr:release xmlns:bpr="http://www.blueprism.co.uk/product/release">
    <bpr:name>1.3</bpr:name>
    <bpr:release-notes />
    <bpr:created>2023-11-25 15:57:12Z</bpr:created>
    <bpr:package-id>4020</bpr:package-id>
    <bpr:package-name>Ch6 - Example 4 New ML Model Evaluation Process Template</bpr:package-name>
    <bpr:user-created-by>admin</bpr:user-created-by>
    <bpr:contents count="6">
        <process id="5c86290d-a6de-46ff-952a-ca0814620465" name="Example 4 - New Model Evaluation Process Template" xmlns="http://www.blueprism.co.uk/product/process"><process name="Example 4 - New Model Evaluation Process Template" version="1.0" bpversion="7.1.2.3518" narrative="This is a subprocess that can be used to call another ML prediction without worrying about excessive logging or Exceptions" byrefcollection="true"><view><camerax>0</camerax><cameray>133</cameray><zoom version="2">1.25</zoom></view><preconditions /><endpoint narrative="" /><subsheet subsheetid="3d820266-5341-4406-846d-74330dca8554" type="Normal" published="False"><name>Call Prediction</name><view><camerax>0</camerax><cameray>0</cameray><zoom version="2">1.25</zoom></view></subsheet><stage stageid="a67c71d2-6aef-43d7-bfbf-2ef6cbd38787" name="Start" type="Start"><loginhibit onsuccess="true" /><display x="-45" y="-15" /><inputs><input type="collection" name="Input Data" narrative="The data needed to make the ML prediction" stage="Input Data" /><input type="collection" name="Original Prediction Result" narrative="The prediction result of the production ML algorithm, formatted into a Collection. Only used for logging purposes. Can be left empty." stage="Original Prediction Result" /></inputs><onsuccess>453fe7cf-8ade-4593-a016-7b879cf5cca0</onsuccess></stage><stage stageid="c6d9aba2-98e3-4187-a897-012545d8cba4" name="End" type="End"><loginhibit onsuccess="true" /><display x="-45" y="270" /></stage><stage stageid="6bcae2e8-20e7-46d6-81d9-1c142e99e7c1" name="Stage1" type="ProcessInfo"><display x="-195" y="-105" w="210" h="90" /></stage><stage stageid="a5f6c9c0-91a4-44c3-b99d-a85b18b0e083" name="Input Data" type="Collection"><display x="-195" y="30" w="120" h="30" /><datatype>collection</datatype><alwaysinit /></stage><stage stageid="c9d6b854-5bd2-4069-ba92-57b8433e159a" name="Queue Name" type="Data"><loginhibit onsuccess="true" /><display x="-195" y="-30" w="120" h="30" /><datatype>text</datatype><initialvalue xml:space="preserve">Chapter 6 Example 4 New Model Evaluation Queue</initialvalue><private /><alwaysinit /></stage><stage stageid="79373b0f-6bec-4dd1-a569-37a0586784e9" name="Work Queues::Add To Queue" type="Action"><loginhibit onsuccess="true" /><narrative>The Data collection contains the items to be added to the queue. The collection may contain single or multiple rows, with each representing an item to be added.

If there is a failure during the process, the queue will be unchanged - i.e. no rows will be loaded even if the error occurred on the last one.

If Defer Until is specified, the items will not be available to be worked until then. Otherwise, they are available immediately.

If the queue has a key field defined, an item added has key data longer than the maximum permitted 255 characters, an error will occur</narrative><display x="-45" y="90" w="90" h="30" /><inputs><input type="text" name="Queue Name" friendlyname="Queue Name" narrative="The name of the queue to add items to" expr="[Queue Name]" /><input type="collection" name="Data" friendlyname="Data" narrative="A collection containing the data, one row for each item to be added" expr="[Input Data]" /><input type="datetime" name="Defer Until" friendlyname="Defer Until" narrative="Optionally, the date/time the new item(s) should be deferred until" expr="" /><input type="number" name="Priority" friendlyname="Priority" narrative="Optionally, the priority for the new item(s). Lower numbers represent higher priorities. The default is 0." expr="" /><input type="text" name="Tags" friendlyname="Tags" narrative="Optionally, a semi-colon-separated set of tags to apply to the queue item(s)" expr="" /><input type="text" name="Status" friendlyname="Status" narrative="Optionally, the initial status required of the work queue item(s) " expr="" /><input type="number" name="Batch Size" friendlyname="Batch Size" narrative="Optionally, the batch size to use when adding many items to the queue.  A Value of 0 will process all items in one batch.  An empty field will use the default batch size of 1000." expr=""><validator type="BluePrism.AutomateProcessCore.RangeParameterValidation" parameter="0:25000" /></input></inputs><outputs><output type="collection" name="Item IDs" friendlyname="Item IDs" narrative="The IDs of the items which have been added to the queue, in the order of the collection of data passed that was input" stage="Item IDs" /></outputs><onsuccess>74440d42-b86a-4fec-8372-a3f521e869cb</onsuccess><resource object="Blueprism.Automate.clsWorkQueuesActions" action="Add To Queue" /></stage><stage stageid="cc50b946-f9c4-4a6e-8fe6-4572f4957ea7" name="Item IDs" type="Collection"><display x="75" y="90" w="90" h="30" /><datatype>collection</datatype><private /><alwaysinit /><collectioninfo><singlerow /><field name="Item ID" type="text" description="The Item ID of the work queue item" displayname="Item IDs" /></collectioninfo><initialvalue><singlerow /><row><field name="Item ID" type="text" value="" /></row></initialvalue></stage><stage stageid="568f47e2-2679-4b3a-b273-e18a16cad806" name="Recover1" type="Recover"><loginhibit /><display x="180" y="180" /><onsuccess>bb719e9e-ebd0-4ca7-803b-784e6e8b5cc8</onsuccess></stage><stage stageid="9efd2f8f-e1e3-4f4b-afac-77ecae0493f0" name="Resume1" type="Resume"><loginhibit /><display x="75" y="270" /><onsuccess>c6d9aba2-98e3-4187-a897-012545d8cba4</onsuccess></stage><stage stageid="74440d42-b86a-4fec-8372-a3f521e869cb" name="Work Queues::Get Item By ID" type="Action"><loginhibit onsuccess="true" /><narrative>This action gets the item corresponding to the Id</narrative><display x="-45" y="135" w="90" h="30" /><inputs><input type="text" name="Queue Name" friendlyname="Queue Name" narrative="The name of the queue." expr="[Queue Name]" /><input type="text" name="Item ID" friendlyname="Item ID" narrative="The Id of the queue item" expr="[Item IDs.Item ID]" /></inputs><outputs><output type="text" name="Item ID" friendlyname="Item ID" narrative="The ID of the item retrieved - empty if there are none available." stage="Item ID" /><output type="collection" name="Data" friendlyname="Data" narrative="The data associated with the item - a single collection row." stage="" /><output type="text" name="Status" friendlyname="Status" narrative="The status of the item." stage="" /><output type="number" name="Attempts" friendlyname="Attempts" narrative="The number of attempts already made to work this item." stage="" /></outputs><onsuccess>0585742b-f95a-4e20-bd37-b06079aed50d</onsuccess><resource object="Blueprism.Automate.clsWorkQueuesActions" action="Get Item By ID" /></stage><stage stageid="2c8e73c3-2089-433a-a91a-928bd3cd3c74" name="Work Queues::Mark Completed" type="Action"><loginhibit onsuccess="true" /><narrative>Marks the item as completed, by updating the Completed timestamp and setting Locked to null. The item must be 'owned' by the calling process - i.e. it must have been retrieved using Get Next Item.</narrative><display x="-45" y="225" w="90" h="30" /><inputs><input type="text" name="Item ID" friendlyname="Item ID" narrative="The ID of the item to mark" expr="[Item ID]" /></inputs><onsuccess>c6d9aba2-98e3-4187-a897-012545d8cba4</onsuccess><resource object="Blueprism.Automate.clsWorkQueuesActions" action="Mark Completed" /></stage><stage stageid="0c792963-8c9f-446b-8589-4e027d34071e" name="Work Queues::Mark Exception" type="Action"><loginhibit onsuccess="true" /><narrative>Marks the item as an exception, optionally retrying it by cloning the item and returning the ID of the clone. The item must be 'owned' by the calling process - i.e. it must have been retrieved using Get Next Item.</narrative><display x="75" y="225" w="90" h="30" /><inputs><input type="text" name="Item ID" friendlyname="Item ID" narrative="The ID of the item to mark" expr="[Item ID]" /><input type="text" name="Exception Reason" friendlyname="Exception Reason" narrative="A description of the reason for the exception" expr="ExceptionType() &amp; &quot; - &quot; &amp; ExceptionDetail()" /><input type="flag" name="Retry" friendlyname="Retry" narrative="Whether or not to retry the item, up to the maximum number of attempts specified for the queue. Optional - if not specified, the item will be retried" expr="" /><input type="flag" name="Keep Locked" friendlyname="Keep Locked" narrative="Whether or not the clone of the item should remain locked after the exception has been registered and the item is retried. Optional - default is False" expr="" /></inputs><outputs><output type="text" name="New Item ID" friendlyname="New Item ID" narrative="The Item ID of the newly cloned item. This item will be locked if 'Keep Locked' is True. This will be empty if no item was cloned (ie. the item was not retried." stage="" /></outputs><onsuccess>9efd2f8f-e1e3-4f4b-afac-77ecae0493f0</onsuccess><resource object="Blueprism.Automate.clsWorkQueuesActions" action="Mark Exception" /></stage><stage stageid="bb719e9e-ebd0-4ca7-803b-784e6e8b5cc8" name="Item ID exists" type="Decision"><loginhibit onsuccess="true" /><display x="180" y="225" /><decision expression="[Item ID] &lt;&gt; &quot;&quot;" /><ontrue>0c792963-8c9f-446b-8589-4e027d34071e</ontrue><onfalse>2ab518ad-5dc5-407c-b4dc-6a72639c983e</onfalse></stage><stage stageid="0822a667-950b-4486-ac3e-a6a2aa2c1248" name="Item ID" type="Data"><display x="75" y="135" w="90" h="30" /><datatype>text</datatype><initialvalue /><private /><alwaysinit /></stage><stage stageid="2ab518ad-5dc5-407c-b4dc-6a72639c983e" name="Anchor1" type="Anchor"><loginhibit onsuccess="true" /><display x="180" y="270" w="10" h="10" /><onsuccess>9efd2f8f-e1e3-4f4b-afac-77ecae0493f0</onsuccess></stage><stage stageid="0bec6df2-a0b7-4872-a958-f0f29083cbdd" name="Call Prediction" type="SubSheetInfo"><subsheetid>3d820266-5341-4406-846d-74330dca8554</subsheetid><narrative>This page should contain the logic that makes the ML prediction, and formats the prediction data into the Collection [Output Data]</narrative><display x="-195" y="-105" w="150" h="90" /></stage><stage stageid="7561e353-88f2-4135-ac67-91a678ef715c" name="Start" type="Start"><subsheetid>3d820266-5341-4406-846d-74330dca8554</subsheetid><loginhibit onsuccess="true" /><display x="15" y="-105" /><onsuccess>02fc5e80-590c-4866-b2ab-37a51452e451</onsuccess></stage><stage stageid="ecb313cb-509d-4170-9266-880907692f51" name="End" type="End"><subsheetid>3d820266-5341-4406-846d-74330dca8554</subsheetid><loginhibit onsuccess="true" /><display x="15" y="120" /></stage><stage stageid="0585742b-f95a-4e20-bd37-b06079aed50d" name="Call Prediction" type="SubSheet"><loginhibit onsuccess="true" /><display x="-45" y="180" w="90" h="30" /><font family="Segoe UI" size="10" style="Bold" color="000000" /><onsuccess>2c8e73c3-2089-433a-a91a-928bd3cd3c74</onsuccess><processid>3d820266-5341-4406-846d-74330dca8554</processid></stage><stage stageid="c15a6cf3-72bf-4885-ad1e-642eec249ea0" name="Global Inputs" type="Block"><loginhibit onsuccess="true" /><display x="-270" y="0" w="150" h="90" /><font family="Segoe UI" size="10" style="Regular" color="FFCC00" /></stage><stage stageid="02fc5e80-590c-4866-b2ab-37a51452e451" name="Note1" type="Note"><subsheetid>3d820266-5341-4406-846d-74330dca8554</subsheetid><narrative>Add your logic to call the ML program, and format the response into the [Output Data] Collection here. Turn on Stage Logging if you want to log the start and end times to evaluate the prediction speed.
</narrative><display x="15" y="-30" w="120" h="90" /><onsuccess>d67ccfbf-bd84-41b8-8b33-1f928219d09d</onsuccess></stage><stage stageid="78f34323-d722-4439-a814-a2e74c422cac" name="Note3" type="Note"><narrative>Exceptions are simply ignored since we don't want anything to bubble up to the main process. This call to evaluation model shouldn't affect the Main Process at all.</narrative><display x="195" y="105" w="120" h="90" /></stage><stage stageid="9928aed4-63b7-4858-9c46-c9e7287e2032" name="Original Prediction Result" type="Collection"><display x="-195" y="60" w="120" h="30" /><datatype>collection</datatype><alwaysinit /></stage><stage stageid="d936ef38-1b6d-4894-b1ec-79aca462a325" name="Output Data" type="Collection"><display x="-195" y="135" w="120" h="30" /><datatype>collection</datatype><alwaysinit /></stage><stage stageid="bb5af4fd-5654-4160-8888-effadc642e7b" name="Global Data Items" type="Block"><loginhibit onsuccess="true" /><display x="-270" y="105" w="150" h="60" /><font family="Segoe UI" size="10" style="Regular" color="339966" /></stage><stage stageid="d67ccfbf-bd84-41b8-8b33-1f928219d09d" name="Log New Model Evaluation Results" type="MultipleCalculation"><subsheetid>3d820266-5341-4406-846d-74330dca8554</subsheetid><narrative>The tmp variables are all throwaway. The purpose of this stage is to just log data to the session logs
</narrative><display x="15" y="60" w="120" h="60" /><font family="Segoe UI" size="10" style="Bold" color="000000" /><onsuccess>ecb313cb-509d-4170-9266-880907692f51</onsuccess><steps><calculation expression="[Ch6 Example 4 Evaluation Model ID]" stage="tmp2" /><calculation expression="[Input Data]" stage="tmp" /><calculation expression="[Original Prediction Result]" stage="tmp" /><calculation expression="[Output Data]" stage="tmp" /></steps></stage><stage stageid="3ea93dba-b2d7-45ed-a7e0-6ac730f1ab5d" name="tmp" type="Collection"><subsheetid>3d820266-5341-4406-846d-74330dca8554</subsheetid><display x="120" y="60" /><datatype>collection</datatype><private /><alwaysinit /></stage><stage stageid="42f08fec-ac80-4fa2-93a1-1789577e7e97" name="Note4" type="Note"><narrative>All Logging on the Main Page has been deliberately set to Errors only</narrative><display x="195" y="0" w="120" h="60" /></stage><stage stageid="8f39ab80-a3ac-43ba-8675-94ccef8cf533" name="Ch6 Example 4 Evaluation Model ID" type="Data"><display x="-195" y="210" w="120" h="30" /><datatype>text</datatype><initialvalue /><exposure>Environment</exposure><alwaysinit /></stage><stage stageid="c71683af-959b-46f5-9953-09f25605bd50" name="tmp2" type="Data"><subsheetid>3d820266-5341-4406-846d-74330dca8554</subsheetid><display x="195" y="60" /><datatype>text</datatype><initialvalue /><private /><alwaysinit /></stage><stage stageid="f43541a1-ddb2-41cd-9332-f914ab1cea2e" name="Global Environment Variables" type="Block"><loginhibit onsuccess="true" /><display x="-270" y="180" w="150" h="60" /><font family="Segoe UI" size="10" style="Regular" color="3366FF" /></stage><stage stageid="00b2905f-c5b5-4958-a312-ebdb99de091b" name="Environment Variables" type="Block"><loginhibit onsuccess="true" /><display x="-270" y="255" w="150" h="60" /><font family="Segoe UI" size="10" style="Regular" color="CC99FF" /></stage><stage stageid="ac99f882-48cf-4344-aec3-a6379edabd82" name="Ch6 Example 4 Enable Model Evaluation" type="Data"><loginhibit onsuccess="true" /><display x="-195" y="285" w="120" h="30" /><datatype>flag</datatype><initialvalue /><exposure>Environment</exposure><private /><alwaysinit /></stage><stage stageid="453fe7cf-8ade-4593-a016-7b879cf5cca0" name="Enable Model Evaluation?" type="Decision"><display x="-45" y="30" w="90" h="30" /><decision expression="[Ch6 Example 4 Enable Model Evaluation]" /><ontrue>79373b0f-6bec-4dd1-a569-37a0586784e9</ontrue><onfalse>d16a4f42-5e8a-4202-942e-f29529bc53be</onfalse></stage><stage stageid="d16a4f42-5e8a-4202-942e-f29529bc53be" name="End1" type="End"><loginhibit onsuccess="true" /><display x="60" y="30" /></stage></process></process>
        <work-queue id="13" name="Chapter 6 Example 4 New Model Evaluation Queue" key-field="Item ID" xmlns="http://www.blueprism.co.uk/product/work-queue" />
        <environment-variable id="Ch6 Example 4 Enable Model Evaluation" name="Ch6 Example 4 Enable Model Evaluation" type="flag" value="True" xmlns="http://www.blueprism.co.uk/product/environment-variable">
            <description>Whether Model Evaluation should be enabled or not</description>
        </environment-variable>
        <environment-variable id="Ch6 Example 4 Evaluation Model ID" name="Ch6 Example 4 Evaluation Model ID" type="text" value="evaluation_model_ids" xmlns="http://www.blueprism.co.uk/product/environment-variable">
            <description>An ID to identify what model is being evaluated</description>
        </environment-variable>
        <process-group id="65b6326f-466b-471d-8e72-fb38532c10ae" name="Ch6" isDefaultGroup="False" xmlns="http://www.blueprism.co.uk/product/process-group">
            <members>
                <process id="5c86290d-a6de-46ff-952a-ca0814620465" />
            </members>
        </process-group>
        <work-queue-group id="b61091e7-17a4-469a-9b75-d5aecf50fe6e" name="Ch6" isDefaultGroup="False" xmlns="http://www.blueprism.co.uk/product/work-queue-group">
            <members>
                <work-queue id="13" />
            </members>
        </work-queue-group>
    </bpr:contents>
</bpr:release>